<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}">
<head>
    <title layout:fragment="title">내 경매</title>
</head>

<body>
<div layout:fragment="content">
    <div id="seller-auctions-page"
         th:attr="data-seller-id=${#authentication.principal.id}"
         class="mx-auto max-w-7xl px-6 py-8">

        <!-- Header -->
        <div class="flex items-start justify-between gap-4 mb-6">
            <div>
                <h1 class="text-3xl font-extrabold tracking-tight text-slate-900">내 경매</h1>
                <p class="mt-2 text-sm text-slate-500">등록한 경매의 상태를 관리하세요.</p>
            </div>

            <a th:href="@{/seller/auctions/create}"
               class="inline-flex items-center justify-center h-10 px-4 rounded-xl bg-slate-900 text-white text-sm font-bold hover:bg-slate-800 shadow-sm">
                경매 등록
            </a>
        </div>

        <!-- Summary Cards -->
        <div class="grid grid-cols-4 gap-3 mb-6 max-[900px]:grid-cols-2">
            <div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
                <div class="text-xs font-extrabold text-slate-500">진행 중</div>
                <div class="mt-2 text-2xl font-black tracking-tight text-slate-900" id="summary-live-count">0</div>
            </div>

            <div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
                <div class="text-xs font-extrabold text-slate-500">낙찰 완료</div>
                <div class="mt-2 text-2xl font-black tracking-tight text-slate-900" id="summary-closed-count">0</div>
            </div>

            <div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
                <div class="text-xs font-extrabold text-slate-500">총 수익</div>
                <div class="mt-2 text-2xl font-black tracking-tight text-slate-900" id="summary-revenue-amount">0원</div>
            </div>

            <div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
                <div class="text-xs font-extrabold text-slate-500">임시 저장</div>
                <div class="mt-2 text-2xl font-black tracking-tight text-slate-900" id="summary-draft-count">0</div>
            </div>
        </div>

        <!-- Tabs + Controls -->
        <div class="flex items-center justify-between gap-4 border-b border-slate-200 pb-3 mb-4 max-[900px]:flex-col max-[900px]:items-stretch">
            <!-- Tabs -->
            <div class="flex flex-wrap items-center gap-4" role="tablist">
                <button type="button"
                        class="sa-tab is-active border-b-2 border-slate-900 px-1 py-2 text-sm font-extrabold text-slate-900"
                        data-tab="all">
                    전체
                    <span class="ml-2 inline-flex items-center justify-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-black text-slate-900"
                          id="tab-all-count">0</span>
                </button>

                <button type="button"
                        class="sa-tab border-b-2 border-transparent px-1 py-2 text-sm font-extrabold text-slate-500 hover:text-slate-700"
                        data-tab="live">
                    진행 중
                    <span class="ml-2 inline-flex items-center justify-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-black text-slate-900"
                          id="live-count">0</span>
                </button>

                <button type="button"
                        class="sa-tab border-b-2 border-transparent px-1 py-2 text-sm font-extrabold text-slate-500 hover:text-slate-700"
                        data-tab="closed">
                    낙찰 완료
                    <span class="ml-2 inline-flex items-center justify-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-black text-slate-900"
                          id="closed-count">0</span>
                </button>

                <button type="button"
                        class="sa-tab border-b-2 border-transparent px-1 py-2 text-sm font-extrabold text-slate-500 hover:text-slate-700"
                        data-tab="ended">
                    유찰
                    <span class="ml-2 inline-flex items-center justify-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-black text-slate-900"
                          id="ended-count">0</span>
                </button>

                <button type="button"
                        class="sa-tab border-b-2 border-transparent px-1 py-2 text-sm font-extrabold text-slate-500 hover:text-slate-700"
                        data-tab="draft">
                    임시 저장
                    <span class="ml-2 inline-flex items-center justify-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-black text-slate-900"
                          id="draft-count">0</span>
                </button>
            </div>

            <!-- Controls -->
            <div class="flex items-center gap-3 max-[900px]:flex-col max-[900px]:items-stretch">
                <select id="sa-sort"
                        class="h-9 rounded-xl border border-slate-200 bg-white px-3 text-sm font-semibold text-slate-900 focus:outline-none focus:ring-4 focus:ring-slate-200">
                    <option value="latest" selected>최신순</option>
                    <option value="deadline">마감임박</option>
                    <option value="price_asc">가격 낮은순</option>
                    <option value="price_desc">가격 높은순</option>
                    <option value="popular">인기순</option>
                </select>

                <input id="sa-search-input"
                       class="h-9 w-64 max-[900px]:w-full rounded-xl border border-slate-200 bg-white px-3 text-sm font-semibold text-slate-900
                              placeholder:text-slate-400 focus:outline-none focus:ring-4 focus:ring-slate-200"
                       type="text"
                       placeholder="상품명 검색"
                       autocomplete="off"/>
            </div>
        </div>

        <!-- Table -->
        <div class="rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full border-collapse">
                    <thead>
                    <tr class="bg-slate-50">
                        <th class="px-4 py-3 text-left text-xs font-extrabold text-slate-500 border-b border-slate-200">상품 정보</th>
                        <th class="px-4 py-3 text-left text-xs font-extrabold text-slate-500 border-b border-slate-200">상태</th>
                        <th class="px-4 py-3 text-left text-xs font-extrabold text-slate-500 border-b border-slate-200">입찰 현황</th>
                        <th class="px-4 py-3 text-left text-xs font-extrabold text-slate-500 border-b border-slate-200">일정</th>
                        <th class="w-28 px-4 py-3 text-right text-xs font-extrabold text-slate-500 border-b border-slate-200"></th>
                    </tr>
                    </thead>

                    <tbody id="sa-tbody">
                    <!-- JS 렌더링 -->
                    </tbody>
                </table>
            </div>

            <!-- Empty -->
            <div id="sa-empty" class="hidden px-6 py-12 text-center">
                <div class="text-sm font-black text-slate-900" id="sa-empty-title">목록이 비어 있습니다.</div>
                <div class="mt-2 text-sm font-semibold text-slate-500" id="sa-empty-desc">해당 상태의 경매가 없습니다.</div>
            </div>
        </div>

        <!-- Range text -->
        <div class="mt-4 text-xs font-bold text-slate-500" id="sa-range-text">전체 0개 중 0-0 표시</div>

        <!-- Pagination (경매 목록과 동일한 스타일) -->
        <div class="mt-10">
            <nav id="sa-pagination" class="flex items-center justify-center gap-2" aria-label="Pagination">
                <!-- JS 렌더링 -->
            </nav>
        </div>
    </div>
</div>

<th:block layout:fragment="scripts">
    <script th:src="@{/js/seller/seller-auctions/api.js}" defer></script>
    <script th:src="@{/js/seller/seller-auctions/list.js}" defer></script>
    <script th:src="@{/js/seller/seller-auctions/filter.js}" defer></script>
</th:block>

</body>
</html>
